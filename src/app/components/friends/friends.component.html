<div class="bg-gray-900 text-white min-h-screen flex flex-col md:flex-row pt-28">
  <!-- Left Sidebar (Navigation Options) -->
  <div class="w-full md:w-1/4 min-w-[250px] bg-gray-800 p-6 rounded-r-lg shadow-lg flex flex-col space-y-4">
    <h2 class="text-xl font-bold">Options</h2>

    <button (click)="setActiveTab('myFriends')" 
      [class.bg-indigo-600]="activeTab === 'myFriends'"
      [class.hover:bg-indigo-700]="activeTab !== 'myFriends'"
      class="w-full py-3 px-4 rounded-md text-white text-lg font-semibold flex items-center gap-3 transition transform hover:scale-105">
      <i class="fas fa-users"></i> My Friends
    </button>

    <button (click)="setActiveTab('addFriends')" 
      [class.bg-indigo-600]="activeTab === 'addFriends'"
      [class.hover:bg-indigo-700]="activeTab !== 'addFriends'"
      class="w-full py-3 px-4 rounded-md text-white text-lg font-semibold flex items-center gap-3 transition transform hover:scale-105">
      <i class="fas fa-user-plus"></i> Add Friends
    </button>

    <button (click)="setActiveTab('friendRequests')" 
      [class.bg-indigo-600]="activeTab === 'friendRequests'"
      [class.hover:bg-indigo-700]="activeTab !== 'friendRequests'"
      class="w-full py-3 px-4 rounded-md text-white text-lg font-semibold flex items-center gap-3 transition transform hover:scale-105">
      <i class="fas fa-envelope"></i> Friend Requests
    </button>
  </div>

  <!-- Right Content Area (Changes Dynamically) -->
  <div class="flex-1 p-6">
    
    <!-- Search Bar (Changes Based on Active Tab) -->
    <div class="relative max-w-lg mb-6">
      <input
        type="text"
        [(ngModel)]="searchQuery"
        placeholder="{{ getSearchPlaceholder() }}"
        class="w-full rounded-full bg-gray-800 border border-gray-600 text-white py-3 pl-5 pr-12 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-base shadow-md"
      />
      <i class="fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
    </div>

    <!-- Add Friends Section -->
    <div *ngIf="activeTab === 'addFriends'">
      <h2 class="text-2xl font-semibold mb-4">Add Friends</h2>
      <div class="bg-gray-800 p-6 rounded-xl shadow-lg max-w-4xl mx-auto">
        <div *ngIf="filteredUsersToAdd().length; else noUsers">
          <ul class="space-y-4">
            <li *ngFor="let user of filteredUsersToAdd()" 
                class="flex items-center justify-between bg-gray-700 p-4 rounded-lg shadow-md">
              <div class="flex items-center space-x-4">
                <img [src]="user.avatar" alt="Profile" class="w-20 h-20 rounded-full object-cover border-2 border-gray-500 shadow-md">
                <span class="text-lg font-medium text-gray-300">{{ user.name }}</span>
              </div>
              <div class="flex space-x-2">
                <button (click)="viewProfile(user)" 
                        class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm transition transform hover:scale-105">
                  View Profile
                </button>
                <button (click)="sendFriendRequest(user)" 
                        class="bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-md text-sm transition transform hover:scale-105">
                  Add Friend
                </button>
              </div>
            </li>
          </ul>
        </div>
        <ng-template #noUsers>
          <p class="text-gray-400 text-center text-lg">No new users available to add.</p>
        </ng-template>
      </div>
    </div>

    <!-- My Friends Section -->
    <div *ngIf="activeTab === 'myFriends'">
      <h2 class="text-2xl font-semibold mb-4">My Friends</h2>
      <div class="bg-gray-800 p-6 rounded-xl shadow-lg max-w-4xl mx-auto">
        <div *ngIf="filteredFriends().length; else noFriends">
          <ul class="space-y-4">
            <li *ngFor="let friend of filteredFriends()" 
                class="flex items-center justify-between bg-gray-700 p-4 rounded-lg shadow-md">
              <div class="flex items-center space-x-4">
                <img [src]="friend.avatar" alt="Profile" class="w-20 h-20 rounded-full object-cover border-2 border-gray-500 shadow-md">
                <span class="text-lg font-medium text-gray-300">{{ friend.name }}</span>
              </div>
              <div class="flex space-x-2">
                <button (click)="viewProfile(friend)" 
                        class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm transition transform hover:scale-105">
                  View Profile
                </button>
                <button (click)="unfriend(friend)" 
                        class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm transition transform hover:scale-105">
                  Unfriend
                </button>
              </div>
            </li>
          </ul>
        </div>
        <ng-template #noFriends>
          <p class="text-gray-400 text-center text-lg">You have no friends yet.</p>
        </ng-template>
      </div>
    </div>

    <!-- Friend Requests Section -->
    <div *ngIf="activeTab === 'friendRequests'">
      <h2 class="text-2xl font-semibold mb-4">Friend Requests</h2>
      <div class="bg-gray-800 p-6 rounded-xl shadow-lg max-w-4xl mx-auto">
        <div *ngIf="filteredFriendRequests().length; else noRequests">
          <ul class="space-y-4">
            <li *ngFor="let request of filteredFriendRequests()" 
                class="flex items-center justify-between bg-gray-700 p-4 rounded-lg shadow-md">
              <div class="flex items-center space-x-4">
                <img [src]="request.avatar" alt="Profile" class="w-20 h-20 rounded-full object-cover border-2 border-gray-500 shadow-md">
                <span class="text-lg font-medium text-gray-300">{{ request.name }}</span>
              </div>
              <div class="flex space-x-2">
                <button (click)="viewProfile(request)" 
                        class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm transition transform hover:scale-105">
                  View Profile
                </button>
                <button (click)="acceptFriendRequest(request)" 
                        class="bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-md text-sm transition transform hover:scale-105">
                  Accept
                </button>
                <button (click)="declineFriendRequest(request)" 
                        class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-md text-sm transition transform hover:scale-105">
                  Decline
                </button>
              </div>
            </li>
          </ul>
        </div>
        <ng-template #noRequests>
          <p class="text-gray-400 text-center text-lg">No pending friend requests.</p>
        </ng-template>
      </div>
    </div>

  </div>
</div>
